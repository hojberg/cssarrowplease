(function(a){a.fn.clippy=function(b){_opts={width:"14",height:"14",color:"#ffffff",clippy_path:"clippy.swf",keep_text:false,transparent:false};b=a.extend(_opts,b);params={movie:b.clippy_path,allowScriptAccess:"always",quality:"high",scale:"noscale"};if(b.transparent&&typeof b.transparent==="string"){params.wmode=b.transparent}else{if(b.transparent&&typeof b.transparent==="boolean"){params.wmode="transparent"}else{params.bgcolor=b.color}}embed_params=a.extend({},params,{width:b.width,height:b.height});embed_params.src=embed_params.movie;delete embed_params.movie;this.each(function(c,f){if(b.text&&b.text!=""){text=b.text}else{if(a(f).data("text")&&a(f).data("text")!=""){text=a(f).data("text")}else{text=a(f).text()}}text=encodeURIComponent(text);params.FlashVars="text="+text;embed_params.FlashVars="text="+text;dom=a("<object />").attr({classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",width:b.width,height:b.height});embed=a("<embed />").attr(embed_params);try{dom.append(embed);a.each(params,function(e,g){dom.prepend(a("<param />").attr({name:e,value:g}))})}catch(d){dom=embed}if(b.keep_text){a(f).html(dom).append(decodeURIComponent(text))}else{a(f).html(dom)}})}})(jQuery);